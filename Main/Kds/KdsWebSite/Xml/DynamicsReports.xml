<DynamicReport xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <Report RdlName="Sample1" Roles="kds_administrators" FilterByLine="4" PageHeader="דוגמא של דו&quot;ח דינמי">
    <Filter ParameterName="Param1" Caption="Caption1" BoxeType="DropDown" DataType="System.Int32"  IsParent="true">
      <DropDownList QueryType="StoredProcedure"  Select="PKG_SYSMAN.get_sugey_yamim_meyuchadim" ValueField="Sug_Yom" TextField="Teur_Yom" />
    </Filter>
    <Filter ParameterName="Param2" Caption="Caption2" BoxeType="TextBox" DataType="System.Int32" IsParent="false"></Filter>
    <Filter ParameterName="Param3" Caption="תאריך" BoxeType="Calendar" DataType="System.DateTime" IsParent="true"></Filter>
    <Filter ParameterName="Param4" Caption="Caption4" BoxeType="DropDown" DataType="System.Int32">
      <DropDownList QueryType="StoredProcedure"  Select="PKG_SYSMAN.get_sugey_yamim_meyuchadim" ValueField="Sug_Yom" TextField="Teur_Yom">
        <Condition Name="Sug_Yom" ParameterType="ntOracleInteger" ControlReference="Param1"></Condition>
      </DropDownList>
    </Filter> 
    <Filter ParameterName="Param5" Caption="Caption5" BoxeType="TextBox" DataType="System.Int32"></Filter>
    <Filter ParameterName="Param6" Caption="Caption6" BoxeType="ListBox" DataType="System.Int32">
      <DropDownList QueryType="StoredProcedure"  Select="PKG_SYSMAN.get_sugey_yamim_meyuchadim" ValueField="Sug_Yom" TextField="Teur_Yom"/>
    </Filter>
    <Filter ParameterName="P_STATUS" Caption="סטטוס" BoxeType="ListBox" DataType="System.Int32" >
      <DropDownList QueryType="StoredProcedure" Select="PKG_REPORTS.pro_get_Status_Approval" ValueField="kod_status_ishur" TextField="teur_status_ishur" />
    </Filter>
  </Report>
  <Report RdlName="IshurimLekartisAvoda" Roles="kds_administrators" FilterByLine="2" PageHeader="אישורים לכרטיס עבודה">
    <Filter ParameterName="P_TAARICH" Caption="תאריך" BoxeType="Calendar" DataType="System.DateTime"></Filter>
    <Filter ParameterName="P_MISPAR_ISHI" Caption="מספר אישי" BoxeType="ListBoxExtended" DataType="System.Int32">
      <DropDownList QueryType="AjaxAutoComplete" Select="GetOvdimToUser" LibraryName="~/Modules/WebServices/wsGeneral.asmx"  />
    </Filter>
  </Report>
  <Report RdlName="IshurimLerashemet" Roles="kds_administrators" FilterByLine="3" PageHeader="בקרת אישורים" ZoomPercent="100">
    <Filter    ParameterName="P_STARTDATE" Caption="מתאריך" BoxeType="Calendar" DataType="System.DateTime" DefaultValue="10/12/2005" Required="true"  >
      <FilterValidator ValidatorName="ValidChodeshMe" ErrorMessageValidator="שדה מתאריך חייב להיות יותר קטן משדה עד תאריך" ValidationFunction="ValidateTvachChodashim"/>
      <FilterValidator ValidatorName="ValidIshurimMe" ErrorMessageValidator="לא ניתן להוציא דו''ח לתאריך שנבחר" ValidationFunction="IsAlowedDate"/>
    </Filter>
    <Filter   ParameterName="P_ENDDATE" Caption="עד תאריך" BoxeType="Calendar" DataType="System.DateTime" RunAtServer="true"  >
      <!--<FilterValidator ValidatorName="ValidIshurimAd" ErrorMessageValidator="לא ניתן להוציא דו''ח לתאריך שנבחר" ValidationFunction="IsAlowedDate"/>-->
    </Filter>
    <Filter  ParameterName="P_KOD_ISHUR" Caption="מקרה לאישור" BoxeType="DropDown" DataType="System.Int32" >
      <DropDownList QueryType="StoredProcedure" Select="PKG_REPORTS.pro_get_Comment_Approval" ValueField="Kod_Ishur" TextField="teur_ishur" />
    </Filter>
    <Filter ParameterName="P_MISPAR_ISHI" Caption="מספר אישי" BoxeType="ListBoxExtended" DataType="System.Int32">
      <DropDownList QueryType="AjaxAutoComplete" Select="GetOvdimForPresence" LibraryName="~/Modules/WebServices/wsGeneral.asmx"  />
    </Filter>
    <Filter   ParameterName="P_WORKERVIEWLEVEL" Caption="רמת תצוגה" BoxeType="RadioButtonList" DataType="System.Int32" RunAtServer="true">
      <DropDownList QueryType="StoredProcedure"  Select="PKG_REPORTS.pro_get_ProfilToDisplay" ValueField="KOD_PROFIL" TextField="TEUR_PROFIL_HEB">
        <ParameterOfFunction Name="p_ProfilFilter" Type="ByReference" ReferenceType="Function" Value="KdsLibrary.clGeneral.GetProfilesOfUser" DataType="System.String" ParameterType="ntOracleVarchar"/>
      </DropDownList>
    </Filter>
    <Filter  ParameterName="P_STATUS" Caption="סטטוס" BoxeType="DropDown" DataType="System.Int32" >
      <DropDownList QueryType="StoredProcedure" Select="PKG_REPORTS.pro_get_Status_Approval" ValueField="kod_status_ishur" TextField="teur_status_ishur" />
    </Filter>
    <Filter  ParameterName="P_FACTORCONFIRM" Caption="גורם מאשר" BoxeType="DropDown" DataType="System.Int32" >
      <DropDownList QueryType="StoredProcedure" Select="PKG_REPORTS.pro_get_Factors_Confirm" ValueField="mispar_ishi" TextField="FullName" />
    </Filter>
  </Report>
    <Report  RdlName="FindWorkerCard" Roles="kds_administrators" FilterByLine="4" PageHeader="איתור כרטיס עבודה" Orientation="Landscape" ProductionType="Heavy">
      <Filter ClassName="כללי" ParameterName="P_STARTDATE" Caption="מתאריך" BoxeType="Calendar" DataType="System.DateTime" DefaultValue="10/12/2005" Required="true">
        <FilterValidator ValidatorName="ValidChodeshMe" ErrorMessageValidator="שדה מתאריך חייב להיות יותר קטן משדה עד תאריך" ValidationFunction="ValidateTvachChodashim"/>
        <FilterValidator ValidatorName="ValidFindMe" ErrorMessageValidator="לא ניתן להוציא דו''ח לתאריך שנבחר" ValidationFunction="IsAlowedDate"/>
      </Filter> 
    <Filter  ClassName="כללי" ParameterName="P_ENDDATE" Caption="עד תאריך" BoxeType="Calendar" DataType="System.DateTime" >
      <!--<FilterValidator ValidatorName="ValidFindAd" ErrorMessageValidator="לא ניתן להוציא דו''ח לתאריך שנבחר" ValidationFunction="IsAlowedDate"/>-->
    </Filter>
    <Filter  ClassName="כללי" ParameterName="P_Refresh" Caption="רענן" BoxeType="Button" />
    <Filter ClassName="כרטיס עבודה"  ParameterName="P_SIDURNUMBER" Caption="מס. סידור עבודה" BoxeType="ListBoxExtended" DataType="System.Int32">
      <!--<DropDownList QueryType="AjaxAutoComplete" Select="GetSidurimOvdim" LibraryName="~/Modules/WebServices/wsGeneral.asmx"  />-->
    </Filter>
      <Filter ClassName="כרטיס עבודה"  ParameterName="P_WORKSTATION" Caption="תחנת עבודה" BoxeType="ListBoxExtended" DataType="System.Int32">
        <DropDownList QueryType="AjaxAutoComplete" Select="GetWorkStation" LibraryName="~/Modules/WebServices/wsGeneral.asmx"  />
      </Filter>
      <Filter ClassName="כרטיס עבודה"  ParameterName="P_CARNUMBER" Caption="מספר רכב פנימי" BoxeType="ListBoxExtended" DataType="System.Int32">
        <!--<DropDownList QueryType="AjaxAutoComplete" Select="GetLicenceNumber" LibraryName="~/Modules/WebServices/wsGeneral.asmx"  />-->
      </Filter>
      <Filter ClassName="כרטיס עבודה"  ParameterName="P_MAKAT" Caption="מקט" BoxeType="ListBoxExtended" DataType="System.Int32">
      <DropDownList Select="GetMakatOfActivity" LibraryName="~/Modules/WebServices/wsGeneral.asmx"  />
    </Filter>
    <Filter ClassName="נתוני HR"  ParameterName="P_WORKERID" Caption="מספר אישי" BoxeType="ListBoxExtended" DataType="System.Int32">
      <!--<DropDownList QueryType="AjaxAutoComplete" Select="GetIdOfYameyAvoda" LibraryName="~/Modules/WebServices/wsGeneral.asmx"  />-->
    </Filter>
    <Filter ClassName="נתוני HR"  ParameterName="P_SNIF" Caption="סניף אב" BoxeType="ListBox" DataType="System.Int32">
      <DropDownList QueryType="Select"  Select="select KOD_SNIF_AV,teur_snif_av from ctb_snif_av ORDER BY teur_snif_av" ValueField="KOD_SNIF_AV" TextField="teur_snif_av" />
    </Filter>
    <Filter ClassName="נתוני HR"  ParameterName="P_RISHUYCAR" Caption="רישוי" BoxeType="ListBoxExtended" DataType="System.Int32">
        <DropDownList QueryType="Select"  Select="select LICENSE_NUMBER from VEHICLE_SPECIFICATIONS" ValueField="LICENSE_NUMBER" TextField="LICENSE_NUMBER" />
      </Filter>
  </Report>
  <Report  RdlName="Presence" Roles="kds_administrators" FilterByLine="3" PageHeader="נוכחות" ZoomPercent="100">
    <Filter ParameterName="P_STARTDATE" Caption="מתאריך" BoxeType="Calendar" DataType="System.DateTime" IsParent="false" Required="true">
      <FilterValidator ValidatorName="ValidChodeshMe" ErrorMessageValidator="שדה מתאריך חייב להיות יותר קטן משדה עד תאריך" ValidationFunction="ValidateTvachChodashim"/>
      <FilterValidator ValidatorName="ValidPresenceMe" ErrorMessageValidator="לא ניתן להוציא דו''ח לתאריך שנבחר" ValidationFunction="IsAlowedDate"/>
    </Filter>
    <Filter ParameterName="P_ENDDATE" Caption="עד תאריך" BoxeType="Calendar" DataType="System.DateTime" IsParent="false" >
      <!--<FilterValidator ValidatorName="ValidPresenceAd" ErrorMessageValidator="לא ניתן להוציא דו''ח לתאריך שנבחר" ValidationFunction="IsAlowedDate"/>-->
    </Filter> 
    <Filter  ParameterName="P_Refresh" Caption="רענן" BoxeType="Button" />
    <Filter ParameterName="P_MISPAR_ISHI" Caption="מספר אישי" BoxeType="ListBoxExtended" DataType="System.Int32" Required="true">
      <FilterValidator ValidatorName="ValidMisparIshi"  ErrorMessageValidator="לא ניתן להוציא דוח ללא בחירת מספר אישי" ValidationFunction="IsEmpty"/>
      <DropDownList QueryType="AjaxAutoComplete"  Select="GetOvdimForPresence" LibraryName="~/Modules/WebServices/wsGeneral.asmx"  />
    </Filter>
    <Filter ParameterName="P_WORKERVIEWLEVEL" Caption="רמת תצוגה" BoxeType="RadioButtonList" DataType="System.Int32" RunAtServer="true">
      <DropDownList QueryType="StoredProcedure"  Select="PKG_REPORTS.pro_get_ProfilToDisplay" ValueField="KOD_PROFIL" TextField="TEUR_PROFIL_HEB">
        <ParameterOfFunction Name="p_ProfilFilter" Type="ByReference" ReferenceType="Function" Value="KdsLibrary.clGeneral.GetProfilesOfUser" DataType="System.String" ParameterType="ntOracleVarchar"/>
      </DropDownList>
    </Filter>
  </Report>
  <Report  RdlName="DriverWithoutTacograph" Roles="kds_administrators" FilterByLine="3" PageHeader="נהגים ללא טכוגרף" ProductionType="Heavy">
    <Filter ParameterName="P_EZOR" Caption="איזור" BoxeType="CheckBoxList" DataType="System.Int32">
      <DropDownList QueryType="Select"  Select="select distinct kod_ezor,teur_ezor from CTB_EZOR" ValueField="kod_ezor" TextField="teur_ezor" />
    </Filter>
    <Filter ParameterName="P_PERIOD" Caption="חודש" BoxeType="DropDown" DataType="System.String">
      <DropDownList QueryType="Function"  LibraryName="KdsLibrary.Utils.Reports.clReportFunctions" Select="GetMonthsList" ValueField="Value" TextField="Month">
        <ParameterOfFunction Type="ByValue" Value="DriverWithoutTacograph" DataType="System.String" />
        <ParameterOfFunction Type="ByValue" Value="false" DataType="System.Boolean" />
        <ParameterOfFunction Type="ByValue" Value="" DataType="System.String" />
      </DropDownList>
    </Filter>
  </Report>
  <Report  RdlName="DriverWithoutSignature" Roles="kds_administrators" FilterByLine="3" PageHeader="נהגים שלא החתימו התייצבות - מרוכז ומפורט" Orientation="Landscape" ProductionType="Heavy">
    <Filter ParameterName="P_EZOR" Caption="איזור" BoxeType="CheckBoxList" DataType="System.Int32" Required="true">
      <FilterValidator ValidatorName="ValidEzor"  ErrorMessageValidator="לא ניתן להוציא דוח ללא בחירת איזור" ValidationFunction="ValidateCheckBoxList"/>
      <DropDownList QueryType="Select"  Select="select distinct kod_ezor,teur_ezor from CTB_EZOR" ValueField="kod_ezor" TextField="teur_ezor" />
    </Filter>
    <Filter ParameterName="P_PERIOD" Caption="חודש" BoxeType="DropDown" DataType="System.String">
      <DropDownList QueryType="Function"  LibraryName="KdsLibrary.Utils.Reports.clReportFunctions" Select="GetMonthsList" ValueField="Value" TextField="Month">
        <ParameterOfFunction Type="ByValue" Value="DriverWithoutSignature" DataType="System.String" />
        <ParameterOfFunction Type="ByValue" Value="false" DataType="System.Boolean" />
        <ParameterOfFunction Type="ByValue" Value="" DataType="System.String" />
      </DropDownList>
    </Filter>
    </Report>
  <Report  RdlName="DriverWithPlaints" Roles="kds_administrators" FilterByLine="3" PageHeader="נהגים שלא החתימו התייצבות- תלונה" Orientation="Landscape" ProductionType="Heavy">
    <Filter ParameterName="P_EZOR" Caption="איזור" BoxeType="CheckBoxList" DataType="System.Int32" Required="true">
      <FilterValidator ValidatorName="ValidEzor"  ErrorMessageValidator="לא ניתן להוציא דוח ללא בחירת איזור" ValidationFunction="ValidateCheckBoxList"/>
      <DropDownList QueryType="Select"  Select="select distinct kod_ezor,teur_ezor from CTB_EZOR" ValueField="kod_ezor" TextField="teur_ezor" />
    </Filter>
    <Filter ParameterName="P_PERIOD" Caption="חודש" BoxeType="DropDown" DataType="System.String">
      <DropDownList QueryType="Function"  LibraryName="KdsLibrary.Utils.Reports.clReportFunctions" Select="GetMonthsList" ValueField="Value" TextField="Month">
        <ParameterOfFunction Type="ByValue" Value="DriverWithoutSignature" DataType="System.String" />
        <ParameterOfFunction Type="ByValue" Value="false" DataType="System.Boolean" />
        <ParameterOfFunction Type="ByValue" Value="" DataType="System.String" />
      </DropDownList>
    </Filter>
  </Report>
  <Report  RdlName="DisregardDrivers" Roles="kds_administrators" FilterByLine="3" PageHeader="דוח נהגים משובצים שלא שלחו כרטיס עבודה מהסניף" ProductionType="Heavy">
    <Filter ParameterName="P_PERIOD" Caption="חודש" BoxeType="DropDown" DataType="System.String">
      <DropDownList QueryType="Function"  LibraryName="KdsLibrary.Utils.Reports.clReportFunctions" Select="GetMonthsList" ValueField="Value" TextField="Month">
        <ParameterOfFunction Type="ByValue" Value="DisregardDrivers" DataType="System.String" />
        <ParameterOfFunction Type="ByValue" Value="false" DataType="System.Boolean" />
        <ParameterOfFunction Type="ByValue" Value="" DataType="System.String" />
      </DropDownList>
    </Filter>
  </Report>
  <Report  RdlName="DisregardDriversVisot" Roles="kds_administrators" FilterByLine="3" PageHeader="דוח נהגים משובצים שלא שלחו כרטיס עבודה מהסניף - ויזות" ProductionType="Heavy">
    <Filter ParameterName="P_PERIOD" Caption="חודש" BoxeType="DropDown" DataType="System.String">
      <DropDownList QueryType="Function"  LibraryName="KdsLibrary.Utils.Reports.clReportFunctions" Select="GetMonthsList" ValueField="Value" TextField="Month">
        <ParameterOfFunction Type="ByValue" Value="DisregardDrivers" DataType="System.String" />
        <ParameterOfFunction Type="ByValue" Value="false" DataType="System.Boolean" />
        <ParameterOfFunction Type="ByValue" Value="" DataType="System.String" />
      </DropDownList>
    </Filter>
  </Report>  
  <Report  RdlName="PremiotPresence" Roles="kds_administrators" FilterByLine="3" PageHeader="דוח נוכחות לפרמיה (עבור פרמיות ידניות)" Orientation="Landscape" ZoomPercent="100">
    <Filter ParameterName="P_KOD_PREMIA" Caption="סוג פרמיה" BoxeType="DropDown"  DataType="System.Int32" RunAtServer="true">
      <DropDownList QueryType="StoredProcedure"  Select="PKG_UTILS.pro_get_premyot_details" ValueField="Kod_Premia" TextField="Teur_Premia">
        <ParameterOfFunction Name="p_premya_codes" Type="ByReference" ReferenceType="Function" Value="KdsLibrary.clGeneral.GetPremiotOfUser" DataType="System.String" ParameterType="ntOracleVarchar"/>
      </DropDownList>
    </Filter>
    <Filter ParameterName="P_PERIOD" Caption="חודש" BoxeType="DropDown" DataType="System.String" RunAtServer="true">
      <DropDownList QueryType="Function"  LibraryName="KdsLibrary.Utils.Reports.clReportFunctions" Select="GetMonthsList" ValueField="Value" TextField="Month">
        <ParameterOfFunction Type="ByValue" Value="PremiotPresence" DataType="System.String" />
        <ParameterOfFunction Type="ByValue" Value="false" DataType="System.Boolean" />
        <ParameterOfFunction Type="ByValue" Value="" DataType="System.String" />
      </DropDownList>
    </Filter>
    <Filter ParameterName="P_MISPAR_ISHI" Caption="מספר אישי" BoxeType="ListBoxExtended" DataType="System.Int32">
      <DropDownList QueryType="AjaxAutoComplete" Select="GetOvdimForPremiot" LibraryName="~/Modules/WebServices/wsGeneral.asmx"  />
    </Filter>
  </Report>
  <Report  RdlName="HashvaatRizotChishuv" Roles="kds_administrators" FilterByLine="3" PageHeader="דוח השוואת ריצות חישוב" ZoomPercent="100">
    <Filter ParameterName="P_CHODESH" Caption="חודש הרצה" BoxeType="DropDown" DataType="System.String"  IsParent="true">
      <DropDownList QueryType="Function"  LibraryName="KdsLibrary.Utils.Reports.clReportFunctions" Select="GetMonthsList" ValueField="Value" TextField="Month">
        <ParameterOfFunction Type="ByValue" Value="HashvaatRizotChishuv" DataType="System.String" />
        <ParameterOfFunction Type="ByValue" Value="true" DataType="System.Boolean" />
        <ParameterOfFunction Type="ByValue" Value="הכל" DataType="System.String" />
      </DropDownList>
    </Filter>
    <Filter ParameterName="P_MIS_RITZA" Caption="ריצה" BoxeType="DropDown" DataType="System.Int32" 
            Required="true" RunAtServer="true">
      <FilterValidator ValidatorName="ValidRitza" ErrorMessageValidator="לא ניתן להוציא דוח כל עוד לא נבחרה ריצה" ValidationFunction="RitzaValidation"/>
      <DropDownList QueryType="StoredProcedure"  Select="PKG_REPORTS.pro_get_rizot_chishuv_succeed" ValueField="Bakasha_ID" TextField="Pirtey_Riza">
        <Condition Name="P_CHODESH_HARAZA" ParameterType="ntOracleVarchar" ControlReference="P_CHODESH"></Condition>
      </DropDownList>
    </Filter>
    <Filter ParameterName="P_MIS_RITZA_LEHASVAA" Caption="ריצה להשוואה" BoxeType="DropDown" DataType="System.Int32">
      <DropDownList QueryType="StoredProcedure"  Select="PKG_REPORTS.pro_get_rizot_chishuv_succeed" ValueField="Bakasha_ID" TextField="Pirtey_Riza">
        <Condition Name="P_CHODESH_HARAZA" ParameterType="ntOracleVarchar" ControlReference="P_CHODESH"></Condition>
      </DropDownList>
    </Filter>
    <Filter ParameterName="P_MAMAD" Caption="מעמד" BoxeType="DropDown" DataType="System.Int32" RunAtServer="true" Required="true" >
      <DropDownList QueryType="StoredProcedure"  Select="PKG_REPORTS.pro_get_maamadot" ValueField="kod" TextField="description" />
    </Filter>
    <Filter ParameterName="P_ISUK" Caption="עיסוק" BoxeType="ListBox" DataType="System.Int32" RunAtServer="true">
      <DropDownList QueryType="Select"  Select="select  tb.TEUR_ISUK, tb.KOD_ISUK from CTB_ISUK tb" ValueField="KOD_ISUK" TextField="TEUR_ISUK" />
    </Filter>
    <Filter ParameterName="P_MISPAR_ISHI" Caption="מספר אישי" BoxeType="ListBoxExtended" DataType="System.Int32">
      <DropDownList QueryType="AjaxAutoComplete" Select="GetOvdimLeRitza" LibraryName="~/Modules/WebServices/wsGeneral.asmx"  />
    </Filter>
  </Report>
  <Report  RdlName="AbsentWorkers" Roles="kds_administrators" FilterByLine="5" PageHeader="דוח העדרויות">
    <Filter ParameterName="P_PERIOD" Caption="חודש" BoxeType="DropDown" DataType="System.String">
      <DropDownList QueryType="Function"  LibraryName="KdsLibrary.Utils.Reports.clReportFunctions" Select="GetMonthsList" ValueField="Value" TextField="Month">
        <ParameterOfFunction Type="ByValue" Value="AbsentWorkers" DataType="System.String" />
        <ParameterOfFunction Type="ByValue" Value="false" DataType="System.Boolean" />
        <ParameterOfFunction Type="ByValue" Value="" DataType="System.String" />
      </DropDownList>
    </Filter>
    <Filter ParameterName="P_EZOR" Caption="איזור" BoxeType="DropDown" DataType="System.Int32">
      <DropDownList QueryType="Select"  Select="select distinct kod_ezor,teur_ezor from CTB_EZOR" ValueField="kod_ezor" TextField="teur_ezor" />
    </Filter>
    <Filter ParameterName="P_ABSENCE_TYPE" Caption="סוג העדרות" BoxeType="DropDown" DataType="System.Int32">
      <DropDownList QueryType="StoredProcedure"  Select="PKG_REPORTS.pro_get_AbsenceType" ValueField="KOD_HEADRUT_CLALI" TextField="TEUR_CLALI" />
    </Filter>
    <Filter ParameterName="P_WORKDAYS" Caption="ימי עבודה" BoxeType="DropDown" DataType="System.Int32">
      <DropDownList QueryType="StoredProcedure"  Select="PKG_REPORTS.pro_get_WorkDayList" ValueField="kod" TextField="description" />
    </Filter>
    <Filter ParameterName="P_MAMAD" Caption="מעמד" BoxeType="DropDown" DataType="System.Int32">
      <DropDownList QueryType="StoredProcedure"  Select="PKG_REPORTS.pro_get_maamadot" ValueField="kod" TextField="description" />
    </Filter>
  </Report>

  <Report  RdlName="HashvaatChodsheyRizotChishuv" Roles="kds_administrators" FilterByLine="2" PageHeader="דוח השוואת חודשים של ריצות חישוב" ZoomPercent="100" >
    <Filter ParameterName="P_CHODESH" Caption="חודש" BoxeType="DropDown" DataType="System.String"  IsParent="true">
      <DropDownList QueryType="Function"  LibraryName="KdsLibrary.Utils.Reports.clReportFunctions" Select="GetMonthsList" ValueField="Value" TextField="Month">
        <ParameterOfFunction Type="ByValue" Value="HashvaatChodsheyRizotChishuv" DataType="System.String" />
        <ParameterOfFunction Type="ByValue" Value="false" DataType="System.Boolean" />
        <ParameterOfFunction Type="ByValue" Value="" DataType="System.String" />
      </DropDownList>
    </Filter>
    <Filter ParameterName="P_MIS_RITZA" Caption="ריצה בה חושב החודש הנבחר" BoxeType="DropDown" DataType="System.Int32"  RunAtServer="true"  Required="true" >
      <FilterValidator ValidatorName="ValidRitza" ErrorMessageValidator="לא ניתן להוציא דוח כל עוד לא נבחרה ריצה" ValidationFunction="RitzaValidation"/>
      <DropDownList QueryType="StoredProcedure"  Select="PKG_REPORTS.pro_get_rizot_chishuv_lehodesh" ValueField="Bakasha_ID" TextField="Pirtey_Riza">
        <Condition Name="P_CHODESH_HARAZA" ParameterType="ntOracleVarchar" ControlReference="P_CHODESH"></Condition>
      </DropDownList>
    </Filter>
    <Filter ParameterName="P_CHODESH_LEHASHVAA" Caption="חודש להשוואה" BoxeType="DropDown" DataType="System.String"  IsParent="true">
      <DropDownList QueryType="Function"  LibraryName="KdsLibrary.Utils.Reports.clReportFunctions" Select="GetMonthsList" ValueField="Value" TextField="Month">
        <ParameterOfFunction Type="ByValue" Value="HashvaatChodsheyRizotChishuv" DataType="System.String" />
        <ParameterOfFunction Type="ByValue" Value="True" DataType="System.Boolean" />
        <ParameterOfFunction Type="ByValue" Value="" DataType="System.String" />
      </DropDownList>
    </Filter>
    <Filter ParameterName="P_MIS_RITZA_LEHASVAA" Caption="ריצה בה חושב החודש הנבחר להשוואה" BoxeType="DropDown" DataType="System.Int32">
      <DropDownList QueryType="StoredProcedure"  Select="PKG_REPORTS.pro_get_rizot_chishuv_lehodesh" ValueField="Bakasha_ID" TextField="Pirtey_Riza">
        <Condition Name="P_CHODESH_HARAZA" ParameterType="ntOracleVarchar" ControlReference="P_CHODESH_LEHASHVAA"></Condition>
      </DropDownList>
    </Filter>
    <Filter ParameterName="P_RAMA_LETEZUGA" Caption="רמת סיכום לתצוגה" BoxeType="CheckBoxList" DataType="System.Int32">
      <DropDownList QueryType="StoredProcedure"  Select="PKG_REPORTS.pro_get_ramot_chishuv_letezuga" ValueField="kod" TextField="description" />
    </Filter>

  </Report>

  <Report  RdlName="IdkuneyRashemet" Roles="kds_administrators" FilterByLine="3" PageHeader="דוח עדכוני רשמת">
    <Filter ParameterName="P_MIS_RASHEMET" Caption="מ.א רשם" BoxeType="TextBox" DataType="System.Int32" Required="true">
      <FilterValidator ValidatorName="ValidMisRashemet1" ErrorMessageValidator="לא ניתן להוציא דוח כל עוד לא נבחר מספר אישי של רשמת" ValidationFunction="IsValidRashemet1"/>
      <DropDownList QueryType="AjaxAutoComplete"  Select="getMispareiRashamot" LibraryName="~/Modules/WebServices/wsGeneral.asmx"  />
    </Filter>
    <Filter ParameterName="P_TAARICH_CA" Caption="תאריך" BoxeType="Calendar" DataType="System.String" RunAtServer="true" Required="true">
      <FilterValidator ValidatorName="ValidTaarich" ErrorMessageValidator="לא ניתן להוציא דוח כל עוד לא נבחר תאריך" ValidationFunction="IsEmpty"/>
      <FilterValidator ValidatorName="ValidTaarich2" ErrorMessageValidator="לא ניתן להוציא דו''ח לתאריך שנבחר" ValidationFunction="IsAlowedPeriod"/>
    </Filter>
    <Filter ParameterName="P_SHAA" Caption="משעה" BoxeType="DropDown" DataType="System.String">
      <DropDownList QueryType="Function"  LibraryName="KdsLibrary.Utils.Reports.clReportFunctions" Select="GetHoursDayList" ValueField="Value" TextField="Value"> </DropDownList>
    </Filter>
  </Report>

  <Report  RdlName="IdkuneyRashemetMasach4" Roles="kds_administrators" FilterByLine="3" PageHeader="מסך 4 - דוח עדכוני רשמת">
    <Filter ParameterName="P_MISPAR_ISHI" Caption="מספר אישי" BoxeType="ListBoxExtended" DataType="System.Int32" Required="true">
      <FilterValidator ValidatorName="ValidMisparIshi"  ErrorMessageValidator="לא ניתן להוציא דוח ללא בחירת מספר אישי" ValidationFunction="IsEmpty"/>
    </Filter>
    <Filter ParameterName="P_PERIOD" Caption="חודש" BoxeType="DropDown" DataType="System.String">
      <DropDownList QueryType="Function"  LibraryName="KdsLibrary.Utils.Reports.clReportFunctions" Select="GetMonthsList" ValueField="Value" TextField="Month">
        <ParameterOfFunction Type="ByValue" Value="DisregardDrivers" DataType="System.String" />
        <ParameterOfFunction Type="ByValue" Value="false" DataType="System.Boolean" />
        <ParameterOfFunction Type="ByValue" Value="" DataType="System.String" />
      </DropDownList>
    </Filter>  
  </Report>
  
  <Report  RdlName="Average" Roles="kds_administrators" FilterByLine="3" PageHeader="דוח ממוצעים וסיכומים" Orientation="Portrait" ZoomPercent="100">
    <Filter ParameterName="P_STARTDATE" Caption="מחודש " BoxeType="DropDown" DataType="System.String"  >
      <DropDownList QueryType="Function"  LibraryName="KdsLibrary.Utils.Reports.clReportFunctions" Select="GetMonthsList" ValueField="Value" TextField="Month">
        <ParameterOfFunction Type="ByValue" Value="Average" DataType="System.String" />
        <ParameterOfFunction Type="ByValue" Value="false" DataType="System.Boolean" />
        <ParameterOfFunction Type="ByValue" Value="הכל" DataType="System.String" />
      </DropDownList>
      <FilterValidator ValidatorName="ValidChodeshMe" ErrorMessageValidator="שדה מחודש חייב להיות יותר קטן משדה עד חודש" ValidationFunction="ValidateTvachChodashim"/>
    </Filter>
    <Filter ParameterName="P_ENDDATE" Caption="עד חודש" BoxeType="DropDown" DataType="System.String"  >
      <DropDownList QueryType="Function"  LibraryName="KdsLibrary.Utils.Reports.clReportFunctions" Select="GetMonthsList" ValueField="Value" TextField="Month">
        <ParameterOfFunction Type="ByValue" Value="Average" DataType="System.String" />
        <ParameterOfFunction Type="ByValue" Value="false" DataType="System.Boolean" />
        <ParameterOfFunction Type="ByValue" Value="הכל" DataType="System.String" />
      </DropDownList>
    </Filter>
    <Filter ParameterName="P_Refresh" Caption="רענן" BoxeType="Button" />
    <Filter ParameterName="P_MISPAR_ISHI" Caption="מספר אישי" BoxeType="ListBoxExtended" DataType="System.Int32">
      <!--<DropDownList QueryType="AjaxAutoComplete" Select="GetIdOfYameyAvoda" LibraryName="~/Modules/WebServices/wsGeneral.asmx"  />-->
    </Filter>
    <Filter ParameterName="P_EZOR" Caption="איזור" BoxeType="DropDown" DataType="System.Int32">
      <DropDownList QueryType="StoredProcedure"  Select="PKG_REPORTS.pro_get_Regions" ValueField="kod_ezor" TextField="teur_ezor" />
    </Filter>
    <Filter ParameterName="P_COMPANYID" Caption="קוד חברה" BoxeType="DropDown" DataType="System.Int32" RunAtServer="true" >
      <DropDownList QueryType="StoredProcedure"  Select="PKG_REPORTS.pro_get_CompanyId" ValueField="Kod_Hevra" TextField="Teur_Hevra" />
    </Filter>
    <Filter ParameterName="P_SNIF" Caption="סניף אב" BoxeType="ListBox" DataType="System.Int32">
      <DropDownList QueryType="Select"  Select="select KOD_SNIF_AV,teur_snif_av from ctb_snif_av ORDER BY teur_snif_av" ValueField="KOD_SNIF_AV" TextField="teur_snif_av" />
    </Filter>
    <Filter ParameterName="P_MAMAD" Caption="מעמד" BoxeType="ListBox" DataType="System.Int32">
      <DropDownList QueryType="Select"  Select="Select Distinct Kod_Maamad_HR, Teur_Maamad_HR From CTB_Maamad order by 2 " ValueField="Kod_Maamad_HR" TextField="Teur_Maamad_HR" />
    </Filter>
    <Filter ParameterName="P_ISUK" Caption="עיסוק" BoxeType="ListBox" DataType="System.Int32">
      <DropDownList QueryType="Select"  Select="select distinct tb.TEUR_ISUK, tb.KOD_ISUK from CTB_ISUK tb order by 1" ValueField="KOD_ISUK" TextField="TEUR_ISUK" />
    </Filter>
    <Filter ParameterName="P_KOD_YECHIDA" Caption="יחידה ארגונית" BoxeType="ListBox" DataType="System.Int32">
      <DropDownList QueryType="Select"  Select="Select Kod_Yechida, Teur_Yechida From CTB_Yechida order by 2" ValueField="Kod_Yechida" TextField="Teur_Yechida" />
    </Filter>
  </Report>

  <Report  RdlName="DescriptionAllComponents" Roles="kds_administrators" FilterByLine="3" PageHeader="פירוט כל הרכיבים" ProductionType="Heavy">
    <Filter ParameterName="P_STARTDATE" Caption="מחודש" BoxeType="DropDown" DataType="System.String"  RunAtServer="true"  Required="true" >
      <FilterValidator ValidatorName="ValidChodeshMe" ErrorMessageValidator="שדה מחודש חייב להיות יותר קטן משדה עד חודש" ValidationFunction="ValidateTvachChodashim"/>
      <DropDownList QueryType="Function"  LibraryName="KdsLibrary.Utils.Reports.clReportFunctions" Select="GetMonthsList" ValueField="Value" TextField="Month">
        <ParameterOfFunction Type="ByValue" Value="DescriptionAllComponents" DataType="System.String" />
        <ParameterOfFunction Type="ByValue" Value="false" DataType="System.Boolean" />
        <ParameterOfFunction Type="ByValue" Value="" DataType="System.String" />
      </DropDownList>
    </Filter>
    <Filter ParameterName="P_ENDDATE" Caption="עד חודש" BoxeType="DropDown" DataType="System.String" RunAtServer="true"  Required="true" >
      <DropDownList QueryType="Function"  LibraryName="KdsLibrary.Utils.Reports.clReportFunctions" Select="GetMonthsList" ValueField="Value" TextField="Month">
        <ParameterOfFunction Type="ByValue" Value="DescriptionAllComponents" DataType="System.String" />
        <ParameterOfFunction Type="ByValue" Value="false" DataType="System.Boolean" />
        <ParameterOfFunction Type="ByValue" Value="" DataType="System.String" />
      </DropDownList>
    </Filter>
    <Filter ParameterName="P_COMPANYID" Caption="קוד חברה" BoxeType="DropDown" DataType="System.Int32" RunAtServer="true" >
      <DropDownList QueryType="StoredProcedure"  Select="PKG_REPORTS.pro_get_CompanyId" ValueField="Kod_Hevra" TextField="Teur_Hevra" />
    </Filter>

  </Report>

  <Report  RdlName="HityazvutBePundakimHitchashbenut" Roles="kds_administrators" FilterByLine="2" PageHeader="התייצבות בפונדקים - התחשבנות" ProductionType="Heavy">
    <Filter ParameterName="P_STARTDATE" Caption="מתאריך" BoxeType="Calendar" DataType="System.DateTime"  Required="true" >
      <FilterValidator ValidatorName="ValidateTaarichMe" ErrorMessageValidator="יש להזין תאריך מ" ValidationFunction="IsEmpty"/>
      <FilterValidator ValidatorName="ValidHityazvutMe" ErrorMessageValidator="לא ניתן להוציא דו''ח לתאריך שנבחר" ValidationFunction="IsAlowedDate"/>
    </Filter>
    <Filter ParameterName="P_ENDDATE" Caption="עד תאריך" BoxeType="Calendar" DataType="System.DateTime" Required="true" >
      <FilterValidator ValidatorName="ValidateTaarichAd" ErrorMessageValidator="יש להזין תאריך עד" ValidationFunction="IsEmpty"/>
      <FilterValidator ValidatorName="ValidChodeshMe" ErrorMessageValidator="יש להזין תאריך מ קטן מתאריך עד" ValidationFunction="ValidateTvachChodashim"/>
      <!--<FilterValidator ValidatorName="ValidHityazvutAd" ErrorMessageValidator="לא ניתן להוציא דו''ח לתאריך שנבחר" ValidationFunction="IsAlowedDate"/>-->
    </Filter>
  </Report>

  <Report  RdlName="HityazvutBePundakimTlunot" Roles="kds_administrators" FilterByLine="3" PageHeader="התייצבות בפונדקים - תלונות" ProductionType="Heavy">
    <Filter ParameterName="P_STARTDATE" Caption="מתאריך" BoxeType="Calendar" DataType="System.DateTime" Required="true" >
      <FilterValidator ValidatorName="ValidateTaarichMe" ErrorMessageValidator="יש להזין תאריך מ" ValidationFunction="IsEmpty"/>
      <FilterValidator ValidatorName="ValidChodeshMe" ErrorMessageValidator="יש להזין תאריך מ קטן מתאריך עד" ValidationFunction="ValidateTvachChodashim"/>
      <FilterValidator ValidatorName="ValidTlunotMe" ErrorMessageValidator="לא ניתן להוציא דו''ח לתאריך שנבחר" ValidationFunction="IsAlowedDate"/>
    </Filter>
    <Filter ParameterName="P_ENDDATE" Caption="עד תאריך" BoxeType="Calendar" DataType="System.DateTime" Required="true" >
      <FilterValidator ValidatorName="ValidateTaarichAd" ErrorMessageValidator="יש להזין תאריך עד" ValidationFunction="IsEmpty"/>
      <!--<FilterValidator ValidatorName="ValidTlunotAd" ErrorMessageValidator="לא ניתן להוציא דו''ח לתאריך שנבחר" ValidationFunction="IsAlowedDate"/>-->
    </Filter>
    <Filter  ParameterName="P_Refresh" Caption="רענן" BoxeType="Button" />
    <Filter ParameterName="P_MISPAR_ISHI" Caption="מספר אישי" BoxeType="ListBoxExtended" DataType="System.Int32">
      <DropDownList QueryType="AjaxAutoComplete" Select="GetOvdim" LibraryName="~/Modules/WebServices/wsGeneral.asmx"  />
    </Filter>
  </Report>
  <Report  RdlName="HityazvutBePundakimKalkalit" Roles="kds_administrators" FilterByLine="3" PageHeader="התייצבות בפונדקים - כלכלית" ProductionType="Heavy">
    <Filter ParameterName="P_STARTDATE" Caption="מתאריך" BoxeType="Calendar"  DataType="System.DateTime" Required="true" >
      <FilterValidator ValidatorName="ValidateTaarichMe" ErrorMessageValidator="יש להזין תאריך מ" ValidationFunction="IsEmpty"/>
      <FilterValidator ValidatorName="ValidChodeshMe" ErrorMessageValidator="יש להזין תאריך מ קטן מתאריך עד" ValidationFunction="ValidateTvachChodashim"/>
      <FilterValidator ValidatorName="ValidKalkalitMe" ErrorMessageValidator="לא ניתן להוציא דו''ח לתאריך שנבחר" ValidationFunction="IsAlowedDate"/>
    </Filter>
    <Filter ParameterName="P_ENDDATE" Caption="עד תאריך" BoxeType="Calendar" DataType="System.DateTime" Required="true" >
      <FilterValidator ValidatorName="ValidateTaarichAd" ErrorMessageValidator="יש להזין תאריך עד" ValidationFunction="IsEmpty"/>
      <!--<FilterValidator ValidatorName="ValidKalkalitAd" ErrorMessageValidator="לא ניתן להוציא דו''ח לתאריך שנבחר" ValidationFunction="IsAlowedDate"/>-->
    </Filter>
    <Filter  ParameterName="P_Refresh" Caption="רענן" BoxeType="Button" />
    <Filter ParameterName="P_MISPAR_ISHI" Caption="מספר אישי" BoxeType="ListBoxExtended" DataType="System.Int32">
      <DropDownList QueryType="AjaxAutoComplete" Select="GetOvdim" LibraryName="~/Modules/WebServices/wsGeneral.asmx"  />
    </Filter>
  </Report>

  <Report  RdlName="PrintWorkCard" Roles="kds_administrators" FilterByLine="3" PageHeader="">
    <Filter ParameterName="P_MISPAR_ISHI" Caption="" BoxeType="DropDown"  DataType="System.Int32">
    </Filter>
    <Filter ParameterName="P_TAARICH" Caption="" BoxeType="Calendar" DataType="System.DateTime" >
    </Filter>
    <Filter ParameterName="P_EMDA" Caption="" BoxeType="DropDown" DataType="System.Int32">
    </Filter>
    <Filter ParameterName="P_SIDUR_VISA" Caption="" BoxeType="DropDown" DataType="System.Int32">
    </Filter>
  </Report>
  <Resources>
    <Text Key="ButtonCssClass" Value="ImgButtonSearch" />
  </Resources>
                      
  <Report  RdlName="ChafifotSidureyNihulTnua" Roles="kds_administrators" FilterByLine="3" PageHeader="חפיפות בסידורי ניהול תנועה" ProductionType="Heavy">
    <Filter ParameterName="P_STARTDATE" Caption="מתאריך" BoxeType="Calendar"  DataType="System.DateTime" Required="true" >
      <FilterValidator ValidatorName="ValidateTaarichMe" ErrorMessageValidator="יש להזין תאריך מ" ValidationFunction="IsEmpty"/>
      <FilterValidator ValidatorName="ValidChafifotMe" ErrorMessageValidator="לא ניתן להוציא דו''ח לתאריך שנבחר" ValidationFunction="IsAlowedDate"/>
    </Filter>
    <Filter ParameterName="P_ENDDATE" Caption="עד תאריך" BoxeType="Calendar" DataType="System.DateTime" Required="true" >
      <FilterValidator ValidatorName="ValidateTaarichAd" ErrorMessageValidator="יש להזין תאריך עד" ValidationFunction="IsEmpty"/>
      <!--<FilterValidator ValidatorName="ValidChafifotAd" ErrorMessageValidator="לא ניתן להוציא דו''ח לתאריך שנבחר" ValidationFunction="IsAlowedDate"/>-->
    </Filter>
    <Filter ParameterName="P_EZOR" Caption="איזור" BoxeType="DropDown"   RunAtServer="true"  DataType="System.Int32">
      <DropDownList QueryType="Select"  Select="select -1 kod_ezor,'הכל' teur_ezor from dual union select distinct kod_ezor,teur_ezor from CTB_EZOR" ValueField="kod_ezor" TextField="teur_ezor" />
    </Filter>
    <Filter   ParameterName="P_SNIF" Caption="סניף תנועה" BoxeType="DropDown" DataType="System.Int32">
      <DropDownList QueryType="Select"  Select="select -1 KOD_SNIF_TNUAA,'הכל' teur from dual union select KOD_SNIF_TNUAA,teur_snif_tnuaa ||' (' ||KOD_SNIF_TNUAA||')' teur from ctb_snifey_tnuaa ORDER BY KOD_SNIF_TNUAA" ValueField="KOD_SNIF_TNUAA" TextField="teur" />
    </Filter>
  </Report>

  <Report  RdlName="ReportNesiotKfulot" Roles="kds_administrators" FilterByLine="3" PageHeader="דוח נסיעות כפולות " ProductionType="Heavy">
    <Filter ParameterName="P_STARTDATE" Caption="מתאריך" BoxeType="Calendar"  DataType="System.DateTime" Required="true" >
      <FilterValidator ValidatorName="ValidateTaarichMe" ErrorMessageValidator="יש להזין תאריך מ" ValidationFunction="IsEmpty"/>
      <FilterValidator ValidatorName="ValidKfulotMe" ErrorMessageValidator="לא ניתן להוציא דו''ח לתאריך שנבחר" ValidationFunction="IsAlowedDate"/>
    </Filter>
    <Filter ParameterName="P_ENDDATE" Caption="עד תאריך" BoxeType="Calendar" DataType="System.DateTime" Required="true" >
      <FilterValidator ValidatorName="ValidateTaarichAd" ErrorMessageValidator="יש להזין תאריך עד" ValidationFunction="IsEmpty"/>
      <!--<FilterValidator ValidatorName="ValidKfulotAd" ErrorMessageValidator="לא ניתן להוציא דו''ח לתאריך שנבחר" ValidationFunction="IsAlowedDate"/>-->
    </Filter>
    <Filter ParameterName="P_EZOR" Caption="איזור" BoxeType="DropDown"   RunAtServer="true"  DataType="System.Int32">
      <DropDownList QueryType="Select"  Select="select -1 kod_ezor,'הכל' teur_ezor from dual union select distinct kod_ezor,teur_ezor from CTB_EZOR" ValueField="kod_ezor" TextField="teur_ezor" />
    </Filter>
    <Filter   ParameterName="P_SNIF" Caption="סניף תנועה" BoxeType="DropDown" DataType="System.Int32">
      <DropDownList QueryType="Select"  Select="select -1 KOD_SNIF_TNUAA,'הכל' teur from dual union select KOD_SNIF_TNUAA,teur_snif_tnuaa ||' (' ||KOD_SNIF_TNUAA||')' teur from ctb_snifey_tnuaa ORDER BY KOD_SNIF_TNUAA" ValueField="KOD_SNIF_TNUAA" TextField="teur" />
    </Filter>
  </Report>
</DynamicReport>
